package com.github.rmielnik.list

import android.view.View

/**
 * An extension of [AbstractViewHolder] that is able to handle update payload.
 *
 * In addition to [AbstractViewHolder.bind] this class exposes an additional version of [bind]
 * method that can handle an update payload generated by [androidx.recyclerview.widget.DiffUtil.ItemCallback.getChangePayload].
 *
 * @param T is a class that implements [RecyclerItem] or an interface that extends [RecyclerItem].
 * Instances of [T] can be passed to [bind] in order to be represented on a View.
 */
abstract class AbstractUpdatableViewHolder<in T : RecyclerItem>(
    view: View
) : AbstractViewHolder<T>(view) {

    /**
     * Binds [item]'s data and [updatePayload] with a view that is attached to this ViewHolder.
     *
     * @param item a RecyclerItem with data to be represented on this ViewHolder's view
     * @param updatePayload a list of data representing updates to be applied on ViewHolder's view.
     */
    abstract fun bind(item: T, updatePayload: List<Any>?)
}